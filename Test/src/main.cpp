#include <iostream>
#include <vector>
#include "gl_core_3_3.hpp"
#include <GLFW\glfw3.h>
#include "Shaders.hpp"

const size_t VBO_OFFSET = 20;

#pragma pack(push, 1)
struct Vertex
{
	float x, y, z;
	float r, g, b, a;
};
#pragma pack(pop)

GLuint LoadProgram(const char *vs, const char *fs);

int main()
{
	glfwInit();
	glfwWindowHint(GLFW_CLIENT_API, GLFW_OPENGL_API);
	glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);
	glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);
	glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);
	GLFWwindow *wnd = glfwCreateWindow(512, 512, "Test", nullptr, nullptr);
	glfwMakeContextCurrent(wnd);
	gl::sys::LoadFunctions();

	GLuint program;
	std::vector<Vertex> vertexData;/* =
	{
		0.437500f, 0.164062f, 0.765625f,
		-0.437500f, 0.164062f, 0.765625f,
		0.500000f, 0.093750f, 0.687500f,
		-0.500000f, 0.093750f, 0.687500f,
		0.546875f, 0.054688f, 0.578125f,
		-0.546875f, 0.054688f, 0.578125f,
		0.351562f, -0.023438f, 0.617188f,
		-0.351562f, -0.023438f, 0.617188f,
		0.351562f, 0.031250f, 0.718750f,
		-0.351562f, 0.031250f, 0.718750f,
		0.351562f, 0.132812f, 0.781250f,
		-0.351562f, 0.132812f, 0.781250f,
		0.273438f, 0.164062f, 0.796875f,
		-0.273438f, 0.164062f, 0.796875f,
		0.203125f, 0.093750f, 0.742188f,
		-0.203125f, 0.093750f, 0.742188f,
		0.156250f, 0.054688f, 0.648438f,
		-0.156250f, 0.054688f, 0.648438f,
		0.078125f, 0.242188f, 0.656250f,
		-0.078125f, 0.242188f, 0.656250f,
		0.140625f, 0.242188f, 0.742188f,
		-0.140625f, 0.242188f, 0.742188f,
		0.242188f, 0.242188f, 0.796875f,
		-0.242188f, 0.242188f, 0.796875f,
		0.273438f, 0.328125f, 0.796875f,
		-0.273438f, 0.328125f, 0.796875f,
		0.203125f, 0.390625f, 0.742188f,
		-0.203125f, 0.390625f, 0.742188f,
		0.156250f, 0.437500f, 0.648438f,
		-0.156250f, 0.437500f, 0.648438f,
		0.351562f, 0.515625f, 0.617188f,
		-0.351562f, 0.515625f, 0.617188f,
		0.351562f, 0.453125f, 0.718750f,
		-0.351562f, 0.453125f, 0.718750f,
		0.351562f, 0.359375f, 0.781250f,
		-0.351562f, 0.359375f, 0.781250f,
		0.437500f, 0.328125f, 0.765625f,
		-0.437500f, 0.328125f, 0.765625f,
		0.500000f, 0.390625f, 0.687500f,
		-0.500000f, 0.390625f, 0.687500f,
		0.546875f, 0.437500f, 0.578125f,
		-0.546875f, 0.437500f, 0.578125f,
		0.625000f, 0.242188f, 0.562500f,
		-0.625000f, 0.242188f, 0.562500f,
		0.562500f, 0.242188f, 0.671875f,
		-0.562500f, 0.242188f, 0.671875f,
		0.468750f, 0.242188f, 0.757812f,
		-0.468750f, 0.242188f, 0.757812f,
		0.476562f, 0.242188f, 0.773438f,
		-0.476562f, 0.242188f, 0.773438f,
		0.445312f, 0.335938f, 0.781250f,
		-0.445312f, 0.335938f, 0.781250f,
		0.351562f, 0.375000f, 0.804688f,
		-0.351562f, 0.375000f, 0.804688f,
		0.265625f, 0.335938f, 0.820312f,
		-0.265625f, 0.335938f, 0.820312f,
		0.226562f, 0.242188f, 0.820312f,
		-0.226562f, 0.242188f, 0.820312f,
		0.265625f, 0.156250f, 0.820312f,
		-0.265625f, 0.156250f, 0.820312f,
		0.351562f, 0.242188f, 0.828125f,
		-0.351562f, 0.242188f, 0.828125f,
		0.351562f, 0.117188f, 0.804688f,
		-0.351562f, 0.117188f, 0.804688f,
		0.445312f, 0.156250f, 0.781250f,
		-0.445312f, 0.156250f, 0.781250f,
		0.000000f, 0.429688f, 0.742188f,
		0.000000f, 0.351562f, 0.820312f,
		0.000000f, -0.679688f, 0.734375f,
		0.000000f, -0.320312f, 0.781250f,
		0.000000f, -0.187500f, 0.796875f,
		0.000000f, -0.773438f, 0.718750f,
		0.000000f, 0.406250f, 0.601562f,
		0.000000f, 0.570312f, 0.570312f,
		0.000000f, 0.898438f, -0.546875f,
		0.000000f, 0.562500f, -0.851562f,
		0.000000f, 0.070312f, -0.828125f,
		0.000000f, -0.382812f, -0.351562f,
		0.203125f, -0.187500f, 0.562500f,
		-0.203125f, -0.187500f, 0.562500f,
		0.312500f, -0.437500f, 0.570312f,
		-0.312500f, -0.437500f, 0.570312f,
		0.351562f, -0.695312f, 0.570312f,
		-0.351562f, -0.695312f, 0.570312f,
		0.367188f, -0.890625f, 0.531250f,
		-0.367188f, -0.890625f, 0.531250f,
		0.328125f, -0.945312f, 0.523438f,
		-0.328125f, -0.945312f, 0.523438f,
		0.179688f, -0.968750f, 0.554688f,
		-0.179688f, -0.968750f, 0.554688f,
		0.000000f, -0.984375f, 0.578125f,
		0.437500f, -0.140625f, 0.531250f,
		-0.437500f, -0.140625f, 0.531250f,
		0.632812f, -0.039062f, 0.539062f,
		-0.632812f, -0.039062f, 0.539062f,
		0.828125f, 0.148438f, 0.445312f,
		-0.828125f, 0.148438f, 0.445312f,
		0.859375f, 0.429688f, 0.593750f,
		-0.859375f, 0.429688f, 0.593750f,
		0.710938f, 0.484375f, 0.625000f,
		-0.710938f, 0.484375f, 0.625000f,
		0.492188f, 0.601562f, 0.687500f,
		-0.492188f, 0.601562f, 0.687500f,
		0.320312f, 0.757812f, 0.734375f,
		-0.320312f, 0.757812f, 0.734375f,
		0.156250f, 0.718750f, 0.757812f,
		-0.156250f, 0.718750f, 0.757812f,
		0.062500f, 0.492188f, 0.750000f,
		-0.062500f, 0.492188f, 0.750000f,
		0.164062f, 0.414062f, 0.773438f,
		-0.164062f, 0.414062f, 0.773438f,
		0.125000f, 0.304688f, 0.765625f,
		-0.125000f, 0.304688f, 0.765625f,
		0.203125f, 0.093750f, 0.742188f,
		-0.203125f, 0.093750f, 0.742188f,
		0.375000f, 0.015625f, 0.703125f,
		-0.375000f, 0.015625f, 0.703125f,
		0.492188f, 0.062500f, 0.671875f,
		-0.492188f, 0.062500f, 0.671875f,
		0.625000f, 0.187500f, 0.648438f,
		-0.625000f, 0.187500f, 0.648438f,
		0.640625f, 0.296875f, 0.648438f,
		-0.640625f, 0.296875f, 0.648438f,
		0.601562f, 0.375000f, 0.664062f,
		-0.601562f, 0.375000f, 0.664062f,
		0.429688f, 0.437500f, 0.718750f,
		-0.429688f, 0.437500f, 0.718750f,
		0.250000f, 0.468750f, 0.757812f,
		-0.250000f, 0.468750f, 0.757812f,
		0.000000f, -0.765625f, 0.734375f,
		0.109375f, -0.718750f, 0.734375f,
		-0.109375f, -0.718750f, 0.734375f,
		0.117188f, -0.835938f, 0.710938f,
		-0.117188f, -0.835938f, 0.710938f,
		0.062500f, -0.882812f, 0.695312f,
		-0.062500f, -0.882812f, 0.695312f,
		0.000000f, -0.890625f, 0.687500f,
		0.000000f, -0.195312f, 0.750000f,
		0.000000f, -0.140625f, 0.742188f,
		0.101562f, -0.148438f, 0.742188f,
		-0.101562f, -0.148438f, 0.742188f,
		0.125000f, -0.226562f, 0.750000f,
		-0.125000f, -0.226562f, 0.750000f,
		0.085938f, -0.289062f, 0.742188f,
		-0.085938f, -0.289062f, 0.742188f,
		0.398438f, -0.046875f, 0.671875f,
		-0.398438f, -0.046875f, 0.671875f,
		0.617188f, 0.054688f, 0.625000f,
		-0.617188f, 0.054688f, 0.625000f,
		0.726562f, 0.203125f, 0.601562f,
		-0.726562f, 0.203125f, 0.601562f,
		0.742188f, 0.375000f, 0.656250f,
		-0.742188f, 0.375000f, 0.656250f,
		0.687500f, 0.414062f, 0.726562f,
		-0.687500f, 0.414062f, 0.726562f,
		0.437500f, 0.546875f, 0.796875f,
		-0.437500f, 0.546875f, 0.796875f,
		0.312500f, 0.640625f, 0.835938f,
		-0.312500f, 0.640625f, 0.835938f,
		0.203125f, 0.617188f, 0.851562f,
		-0.203125f, 0.617188f, 0.851562f,
		0.101562f, 0.429688f, 0.843750f,
		-0.101562f, 0.429688f, 0.843750f,
		0.125000f, -0.101562f, 0.812500f,
		-0.125000f, -0.101562f, 0.812500f,
		0.210938f, -0.445312f, 0.710938f,
		-0.210938f, -0.445312f, 0.710938f,
		0.250000f, -0.703125f, 0.687500f,
		-0.250000f, -0.703125f, 0.687500f,
		0.265625f, -0.820312f, 0.664062f,
		-0.265625f, -0.820312f, 0.664062f,
		0.234375f, -0.914062f, 0.632812f,
		-0.234375f, -0.914062f, 0.632812f,
		0.164062f, -0.929688f, 0.632812f,
		-0.164062f, -0.929688f, 0.632812f,
		0.000000f, -0.945312f, 0.640625f,
		0.000000f, 0.046875f, 0.726562f,
		0.000000f, 0.210938f, 0.765625f,
		0.328125f, 0.476562f, 0.742188f,
		-0.328125f, 0.476562f, 0.742188f,
		0.164062f, 0.140625f, 0.750000f,
		-0.164062f, 0.140625f, 0.750000f,
		0.132812f, 0.210938f, 0.757812f,
		-0.132812f, 0.210938f, 0.757812f,
		0.117188f, -0.687500f, 0.734375f,
		-0.117188f, -0.687500f, 0.734375f,
		0.078125f, -0.445312f, 0.750000f,
		-0.078125f, -0.445312f, 0.750000f,
		0.000000f, -0.445312f, 0.750000f,
		0.000000f, -0.328125f, 0.742188f,
		0.093750f, -0.273438f, 0.781250f,
		-0.093750f, -0.273438f, 0.781250f,
		0.132812f, -0.226562f, 0.796875f,
		-0.132812f, -0.226562f, 0.796875f,
		0.109375f, -0.132812f, 0.781250f,
		-0.109375f, -0.132812f, 0.781250f,
		0.039062f, -0.125000f, 0.781250f,
		-0.039062f, -0.125000f, 0.781250f,
		0.000000f, -0.203125f, 0.828125f,
		0.046875f, -0.148438f, 0.812500f,
		-0.046875f, -0.148438f, 0.812500f,
		0.093750f, -0.156250f, 0.812500f,
		-0.093750f, -0.156250f, 0.812500f,
		0.109375f, -0.226562f, 0.828125f,
		-0.109375f, -0.226562f, 0.828125f,
		0.078125f, -0.250000f, 0.804688f,
		-0.078125f, -0.250000f, 0.804688f,
		0.000000f, -0.289062f, 0.804688f,
		0.257812f, -0.312500f, 0.554688f,
		-0.257812f, -0.312500f, 0.554688f,
		0.164062f, -0.242188f, 0.710938f,
		-0.164062f, -0.242188f, 0.710938f,
		0.179688f, -0.312500f, 0.710938f,
		-0.179688f, -0.312500f, 0.710938f,
		0.234375f, -0.250000f, 0.554688f,
		-0.234375f, -0.250000f, 0.554688f,
		0.000000f, -0.875000f, 0.687500f,
		0.046875f, -0.867188f, 0.687500f,
		-0.046875f, -0.867188f, 0.687500f,
		0.093750f, -0.820312f, 0.710938f,
		-0.093750f, -0.820312f, 0.710938f,
		0.093750f, -0.742188f, 0.726562f,
		-0.093750f, -0.742188f, 0.726562f,
		0.000000f, -0.781250f, 0.656250f,
		0.093750f, -0.750000f, 0.664062f,
		-0.093750f, -0.750000f, 0.664062f,
		0.093750f, -0.812500f, 0.640625f,
		-0.093750f, -0.812500f, 0.640625f,
		0.046875f, -0.851562f, 0.632812f,
		-0.046875f, -0.851562f, 0.632812f,
		0.000000f, -0.859375f, 0.632812f,
		0.171875f, 0.218750f, 0.781250f,
		-0.171875f, 0.218750f, 0.781250f,
		0.187500f, 0.156250f, 0.773438f,
		-0.187500f, 0.156250f, 0.773438f,
		0.335938f, 0.429688f, 0.757812f,
		-0.335938f, 0.429688f, 0.757812f,
		0.273438f, 0.421875f, 0.773438f,
		-0.273438f, 0.421875f, 0.773438f,
		0.421875f, 0.398438f, 0.773438f,
		-0.421875f, 0.398438f, 0.773438f,
		0.562500f, 0.351562f, 0.695312f,
		-0.562500f, 0.351562f, 0.695312f,
		0.585938f, 0.289062f, 0.687500f,
		-0.585938f, 0.289062f, 0.687500f,
		0.578125f, 0.195312f, 0.679688f,
		-0.578125f, 0.195312f, 0.679688f,
		0.476562f, 0.101562f, 0.718750f,
		-0.476562f, 0.101562f, 0.718750f,
		0.375000f, 0.062500f, 0.742188f,
		-0.375000f, 0.062500f, 0.742188f,
		0.226562f, 0.109375f, 0.781250f,
		-0.226562f, 0.109375f, 0.781250f,
		0.179688f, 0.296875f, 0.781250f,
		-0.179688f, 0.296875f, 0.781250f,
		0.210938f, 0.375000f, 0.781250f,
		-0.210938f, 0.375000f, 0.781250f,
		0.234375f, 0.359375f, 0.757812f,
		-0.234375f, 0.359375f, 0.757812f,
		0.195312f, 0.296875f, 0.757812f,
		-0.195312f, 0.296875f, 0.757812f,
		0.242188f, 0.125000f, 0.757812f,
		-0.242188f, 0.125000f, 0.757812f,
		0.375000f, 0.085938f, 0.726562f,
		-0.375000f, 0.085938f, 0.726562f,
		0.460938f, 0.117188f, 0.703125f,
		-0.460938f, 0.117188f, 0.703125f,
		0.546875f, 0.210938f, 0.671875f,
		-0.546875f, 0.210938f, 0.671875f,
		0.554688f, 0.281250f, 0.671875f,
		-0.554688f, 0.281250f, 0.671875f,
		0.531250f, 0.335938f, 0.679688f,
		-0.531250f, 0.335938f, 0.679688f,
		0.414062f, 0.390625f, 0.750000f,
		-0.414062f, 0.390625f, 0.750000f,
		0.281250f, 0.398438f, 0.765625f,
		-0.281250f, 0.398438f, 0.765625f,
		0.335938f, 0.406250f, 0.750000f,
		-0.335938f, 0.406250f, 0.750000f,
		0.203125f, 0.171875f, 0.750000f,
		-0.203125f, 0.171875f, 0.750000f,
		0.195312f, 0.226562f, 0.750000f,
		-0.195312f, 0.226562f, 0.750000f,
		0.109375f, 0.460938f, 0.609375f,
		-0.109375f, 0.460938f, 0.609375f,
		0.195312f, 0.664062f, 0.617188f,
		-0.195312f, 0.664062f, 0.617188f,
		0.335938f, 0.687500f, 0.593750f,
		-0.335938f, 0.687500f, 0.593750f,
		0.484375f, 0.554688f, 0.554688f,
		-0.484375f, 0.554688f, 0.554688f,
		0.679688f, 0.453125f, 0.492188f,
		-0.679688f, 0.453125f, 0.492188f,
		0.796875f, 0.406250f, 0.460938f,
		-0.796875f, 0.406250f, 0.460938f,
		0.773438f, 0.164062f, 0.375000f,
		-0.773438f, 0.164062f, 0.375000f,
		0.601562f, 0.000000f, 0.414062f,
		-0.601562f, 0.000000f, 0.414062f,
		0.437500f, -0.093750f, 0.468750f,
		-0.437500f, -0.093750f, 0.468750f,
		0.000000f, 0.898438f, 0.289062f,
		0.000000f, 0.984375f, -0.078125f,
		0.000000f, -0.195312f, -0.671875f,
		0.000000f, -0.460938f, 0.187500f,
		0.000000f, -0.976562f, 0.460938f,
		0.000000f, -0.804688f, 0.343750f,
		0.000000f, -0.570312f, 0.320312f,
		0.000000f, -0.484375f, 0.281250f,
		0.851562f, 0.234375f, 0.054688f,
		-0.851562f, 0.234375f, 0.054688f,
		0.859375f, 0.320312f, -0.046875f,
		-0.859375f, 0.320312f, -0.046875f,
		0.773438f, 0.265625f, -0.437500f,
		-0.773438f, 0.265625f, -0.437500f,
		0.460938f, 0.437500f, -0.703125f,
		-0.460938f, 0.437500f, -0.703125f,
		0.734375f, -0.046875f, 0.070312f,
		-0.734375f, -0.046875f, 0.070312f,
		0.593750f, -0.125000f, -0.164062f,
		-0.593750f, -0.125000f, -0.164062f,
		0.640625f, -0.007812f, -0.429688f,
		-0.640625f, -0.007812f, -0.429688f,
		0.335938f, 0.054688f, -0.664062f,
		-0.335938f, 0.054688f, -0.664062f,
		0.234375f, -0.351562f, 0.406250f,
		-0.234375f, -0.351562f, 0.406250f,
		0.179688f, -0.414062f, 0.257812f,
		-0.179688f, -0.414062f, 0.257812f,
		0.289062f, -0.710938f, 0.382812f,
		-0.289062f, -0.710938f, 0.382812f,
		0.250000f, -0.500000f, 0.390625f,
		-0.250000f, -0.500000f, 0.390625f,
		0.328125f, -0.914062f, 0.398438f,
		-0.328125f, -0.914062f, 0.398438f,
		0.140625f, -0.757812f, 0.367188f,
		-0.140625f, -0.757812f, 0.367188f,
		0.125000f, -0.539062f, 0.359375f,
		-0.125000f, -0.539062f, 0.359375f,
		0.164062f, -0.945312f, 0.437500f,
		-0.164062f, -0.945312f, 0.437500f,
		0.218750f, -0.281250f, 0.429688f,
		-0.218750f, -0.281250f, 0.429688f,
		0.210938f, -0.226562f, 0.468750f,
		-0.210938f, -0.226562f, 0.468750f,
		0.203125f, -0.171875f, 0.500000f,
		-0.203125f, -0.171875f, 0.500000f,
		0.210938f, -0.390625f, 0.164062f,
		-0.210938f, -0.390625f, 0.164062f,
		0.296875f, -0.312500f, -0.265625f,
		-0.296875f, -0.312500f, -0.265625f,
		0.343750f, -0.148438f, -0.539062f,
		-0.343750f, -0.148438f, -0.539062f,
		0.453125f, 0.867188f, -0.382812f,
		-0.453125f, 0.867188f, -0.382812f,
		0.453125f, 0.929688f, -0.070312f,
		-0.453125f, 0.929688f, -0.070312f,
		0.453125f, 0.851562f, 0.234375f,
		-0.453125f, 0.851562f, 0.234375f,
		0.460938f, 0.523438f, 0.429688f,
		-0.460938f, 0.523438f, 0.429688f,
		0.726562f, 0.406250f, 0.335938f,
		-0.726562f, 0.406250f, 0.335938f,
		0.632812f, 0.453125f, 0.281250f,
		-0.632812f, 0.453125f, 0.281250f,
		0.640625f, 0.703125f, 0.054688f,
		-0.640625f, 0.703125f, 0.054688f,
		0.796875f, 0.562500f, 0.125000f,
		-0.796875f, 0.562500f, 0.125000f,
		0.796875f, 0.617188f, -0.117188f,
		-0.796875f, 0.617188f, -0.117188f,
		0.640625f, 0.750000f, -0.195312f,
		-0.640625f, 0.750000f, -0.195312f,
		0.640625f, 0.679688f, -0.445312f,
		-0.640625f, 0.679688f, -0.445312f,
		0.796875f, 0.539062f, -0.359375f,
		-0.796875f, 0.539062f, -0.359375f,
		0.617188f, 0.328125f, -0.585938f,
		-0.617188f, 0.328125f, -0.585938f,
		0.484375f, 0.023438f, -0.546875f,
		-0.484375f, 0.023438f, -0.546875f,
		0.820312f, 0.328125f, -0.203125f,
		-0.820312f, 0.328125f, -0.203125f,
		0.406250f, -0.171875f, 0.148438f,
		-0.406250f, -0.171875f, 0.148438f,
		0.429688f, -0.195312f, -0.210938f,
		-0.429688f, -0.195312f, -0.210938f,
		0.890625f, 0.406250f, -0.234375f,
		-0.890625f, 0.406250f, -0.234375f,
		0.773438f, -0.140625f, -0.125000f,
		-0.773438f, -0.140625f, -0.125000f,
		1.039062f, -0.101562f, -0.328125f,
		-1.039062f, -0.101562f, -0.328125f,
		1.281250f, 0.054688f, -0.429688f,
		-1.281250f, 0.054688f, -0.429688f,
		1.351562f, 0.320312f, -0.421875f,
		-1.351562f, 0.320312f, -0.421875f,
		1.234375f, 0.507812f, -0.421875f,
		-1.234375f, 0.507812f, -0.421875f,
		1.023438f, 0.476562f, -0.312500f,
		-1.023438f, 0.476562f, -0.312500f,
		1.015625f, 0.414062f, -0.289062f,
		-1.015625f, 0.414062f, -0.289062f,
		1.187500f, 0.437500f, -0.390625f,
		-1.187500f, 0.437500f, -0.390625f,
		1.265625f, 0.289062f, -0.406250f,
		-1.265625f, 0.289062f, -0.406250f,
		1.210938f, 0.078125f, -0.406250f,
		-1.210938f, 0.078125f, -0.406250f,
		1.031250f, -0.039062f, -0.304688f,
		-1.031250f, -0.039062f, -0.304688f,
		0.828125f, -0.070312f, -0.132812f,
		-0.828125f, -0.070312f, -0.132812f,
		0.921875f, 0.359375f, -0.218750f,
		-0.921875f, 0.359375f, -0.218750f,
		0.945312f, 0.304688f, -0.289062f,
		-0.945312f, 0.304688f, -0.289062f,
		0.882812f, -0.023438f, -0.210938f,
		-0.882812f, -0.023438f, -0.210938f,
		1.039062f, 0.000000f, -0.367188f,
		-1.039062f, 0.000000f, -0.367188f,
		1.187500f, 0.093750f, -0.445312f,
		-1.187500f, 0.093750f, -0.445312f,
		1.234375f, 0.250000f, -0.445312f,
		-1.234375f, 0.250000f, -0.445312f,
		1.171875f, 0.359375f, -0.437500f,
		-1.171875f, 0.359375f, -0.437500f,
		1.023438f, 0.343750f, -0.359375f,
		-1.023438f, 0.343750f, -0.359375f,
		0.843750f, 0.289062f, -0.210938f,
		-0.843750f, 0.289062f, -0.210938f,
		0.835938f, 0.171875f, -0.273438f,
		-0.835938f, 0.171875f, -0.273438f,
		0.757812f, 0.093750f, -0.273438f,
		-0.757812f, 0.093750f, -0.273438f,
		0.820312f, 0.085938f, -0.273438f,
		-0.820312f, 0.085938f, -0.273438f,
		0.843750f, 0.015625f, -0.273438f,
		-0.843750f, 0.015625f, -0.273438f,
		0.812500f, -0.015625f, -0.273438f,
		-0.812500f, -0.015625f, -0.273438f,
		0.726562f, 0.000000f, -0.070312f,
		-0.726562f, 0.000000f, -0.070312f,
		0.718750f, -0.023438f, -0.171875f,
		-0.718750f, -0.023438f, -0.171875f,
		0.718750f, 0.039062f, -0.187500f,
		-0.718750f, 0.039062f, -0.187500f,
		0.796875f, 0.203125f, -0.210938f,
		-0.796875f, 0.203125f, -0.210938f,
		0.890625f, 0.242188f, -0.265625f,
		-0.890625f, 0.242188f, -0.265625f,
		0.890625f, 0.234375f, -0.320312f,
		-0.890625f, 0.234375f, -0.320312f,
		0.812500f, -0.015625f, -0.320312f,
		-0.812500f, -0.015625f, -0.320312f,
		0.851562f, 0.015625f, -0.320312f,
		-0.851562f, 0.015625f, -0.320312f,
		0.828125f, 0.078125f, -0.320312f,
		-0.828125f, 0.078125f, -0.320312f,
		0.765625f, 0.093750f, -0.320312f,
		-0.765625f, 0.093750f, -0.320312f,
		0.843750f, 0.171875f, -0.320312f,
		-0.843750f, 0.171875f, -0.320312f,
		1.039062f, 0.328125f, -0.414062f,
		-1.039062f, 0.328125f, -0.414062f,
		1.187500f, 0.343750f, -0.484375f,
		-1.187500f, 0.343750f, -0.484375f,
		1.257812f, 0.242188f, -0.492188f,
		-1.257812f, 0.242188f, -0.492188f,
		1.210938f, 0.085938f, -0.484375f,
		-1.210938f, 0.085938f, -0.484375f,
		1.046875f, 0.000000f, -0.421875f,
		-1.046875f, 0.000000f, -0.421875f,
		0.882812f, -0.015625f, -0.265625f,
		-0.882812f, -0.015625f, -0.265625f,
		0.953125f, 0.289062f, -0.343750f,
		-0.953125f, 0.289062f, -0.343750f,
		0.890625f, 0.109375f, -0.328125f,
		-0.890625f, 0.109375f, -0.328125f,
		0.937500f, 0.062500f, -0.335938f,
		-0.937500f, 0.062500f, -0.335938f,
		1.000000f, 0.125000f, -0.367188f,
		-1.000000f, 0.125000f, -0.367188f,
		0.960938f, 0.171875f, -0.351562f,
		-0.960938f, 0.171875f, -0.351562f,
		1.015625f, 0.234375f, -0.375000f,
		-1.015625f, 0.234375f, -0.375000f,
		1.054688f, 0.187500f, -0.382812f,
		-1.054688f, 0.187500f, -0.382812f,
		1.109375f, 0.210938f, -0.390625f,
		-1.109375f, 0.210938f, -0.390625f,
		1.085938f, 0.273438f, -0.390625f,
		-1.085938f, 0.273438f, -0.390625f,
		1.023438f, 0.437500f, -0.484375f,
		-1.023438f, 0.437500f, -0.484375f,
		1.250000f, 0.468750f, -0.546875f,
		-1.250000f, 0.468750f, -0.546875f,
		1.367188f, 0.296875f, -0.500000f,
		-1.367188f, 0.296875f, -0.500000f,
		1.312500f, 0.054688f, -0.531250f,
		-1.312500f, 0.054688f, -0.531250f,
		1.039062f, -0.085938f, -0.492188f,
		-1.039062f, -0.085938f, -0.492188f,
		0.789062f, -0.125000f, -0.328125f,
		-0.789062f, -0.125000f, -0.328125f,
		0.859375f, 0.382812f, -0.382812f,
		-0.859375f, 0.382812f, -0.382812f,
	};*/
	std::vector<uint16_t> fragmentData;/* =
	{
		47,1,3,
		4,2,48,
		45,3,5,
		6,4,46,
		3,9,7,
		8,10,4,
		1,11,9,
		10,12,2,
		11,13,15,
		16,14,12,
		9,15,17,
		18,16,10,
		21,19,17,
		22,16,18,
		13,23,21,
		22,24,14,
		23,25,27,
		28,26,24,
		27,29,19,
		28,22,20,
		33,31,29,
		34,28,30,
		35,33,27,
		36,26,28,
		37,39,33,
		38,36,34,
		39,41,31,
		40,34,32,
		45,43,41,
		46,40,42,
		47,45,39,
		48,38,40,
		37,51,49,
		38,48,50,
		35,53,51,
		36,38,52,
		25,55,53,
		26,36,54,
		23,57,55,
		24,26,56,
		23,13,59,
		60,14,24,
		13,11,63,
		64,12,14,
		11,1,65,
		66,2,12,
		1,47,49,
		50,48,2,
		61,65,49,
		50,66,62,
		63,65,61,
		62,66,64,
		61,59,63,
		64,60,62,
		61,57,59,
		60,58,62,
		61,55,57,
		58,56,62,
		61,53,55,
		56,54,62,
		61,51,53,
		54,52,62,
		61,49,51,
		52,50,62,
		174,176,91,
		175,90,91,
		172,174,89,
		173,88,90,
		85,170,172,
		173,171,86,
		83,168,170,
		171,169,84,
		81,166,168,
		169,167,82,
		79,92,146,
		147,93,80,
		94,148,146,
		95,93,147,
		94,96,150,
		151,97,95,
		98,152,150,
		99,97,151,
		100,154,152,
		101,99,153,
		102,156,154,
		103,101,155,
		102,104,158,
		159,105,103,
		106,160,158,
		107,105,159,
		108,162,160,
		109,107,161,
		67,68,162,
		67,109,163,
		128,160,162,
		129,111,163,
		128,179,158,
		159,180,129,
		156,158,179,
		157,127,180,
		154,156,126,
		155,125,127,
		152,154,124,
		153,123,125,
		150,152,122,
		151,121,123,
		148,150,120,
		149,119,121,
		146,148,118,
		147,117,119,
		164,146,116,
		165,115,117,
		114,181,177,
		177,182,115,
		162,68,112,
		163,111,113,
		112,68,178,
		178,68,113,
		181,183,178,
		182,177,178,
		135,137,176,
		176,137,136,
		133,135,174,
		175,136,134,
		133,172,170,
		134,132,171,
		166,187,185,
		186,188,167,
		131,170,168,
		169,171,132,
		190,189,187,
		190,145,188,
		187,189,69,
		188,186,69,
		131,185,69,
		132,130,69,
		142,193,191,
		192,194,143,
		140,195,193,
		194,196,141,
		197,195,140,
		198,139,141,
		71,197,139,
		71,138,139,
		144,191,70,
		145,190,70,
		191,206,208,
		192,70,208,
		71,199,200,
		201,199,71,
		197,200,202,
		203,201,198,
		202,204,193,
		203,196,194,
		193,204,206,
		207,205,194,
		204,202,200,
		205,199,201,
		199,208,206,
		207,208,199,
		139,140,164,
		165,141,139,
		140,142,211,
		212,143,141,
		144,213,211,
		145,143,212,
		187,166,213,
		188,145,214,
		209,213,166,
		210,82,167,
		215,211,213,
		216,210,214,
		79,164,211,
		212,165,80,
		130,72,222,
		130,132,223,
		133,131,222,
		223,132,134,
		135,133,220,
		221,134,136,
		137,135,218,
		219,136,137,
		218,229,231,
		219,217,231,
		218,220,227,
		228,221,219,
		220,222,225,
		226,223,221,
		72,224,225,
		72,223,226,
		224,231,229,
		230,231,224,
		225,229,227,
		228,230,226,
		183,181,234,
		235,182,184,
		112,183,232,
		233,184,113,
		112,254,256,
		113,111,257,
		114,252,234,
		115,182,235,
		114,116,250,
		251,117,115,
		116,118,248,
		249,119,117,
		118,120,246,
		247,121,119,
		120,122,244,
		245,123,121,
		124,242,244,
		125,123,245,
		126,240,242,
		127,125,243,
		126,179,236,
		237,180,127,
		179,128,238,
		239,129,180,
		128,110,256,
		257,111,129,
		256,258,276,
		257,239,277,
		236,238,276,
		277,239,237,
		236,278,274,
		237,241,275,
		240,274,272,
		241,243,273,
		244,242,272,
		273,243,245,
		244,270,268,
		245,247,269,
		248,246,268,
		269,247,249,
		248,266,264,
		249,251,265,
		250,264,262,
		251,253,263,
		234,252,262,
		263,253,235,
		256,254,260,
		261,255,257,
		254,232,282,
		283,233,255,
		232,234,280,
		281,235,233,
		67,108,284,
		285,109,67,
		108,106,286,
		287,107,109,
		104,288,286,
		105,107,287,
		102,290,288,
		103,105,289,
		100,292,290,
		101,103,291,
		100,98,294,
		295,99,101,
		96,296,294,
		97,99,295,
		96,94,298,
		299,95,97,
		94,92,300,
		301,93,95,
		309,328,338,
		309,308,339,
		308,338,336,
		308,307,337,
		307,336,340,
		307,306,341,
		89,91,306,
		306,91,90,
		87,89,340,
		341,90,88,
		85,87,334,
		335,88,86,
		83,85,330,
		331,86,84,
		330,336,338,
		339,337,331,
		334,340,336,
		335,331,337,
		332,338,328,
		333,327,329,
		81,83,332,
		333,84,82,
		342,344,215,
		343,210,216,
		326,342,209,
		327,82,210,
		215,344,346,
		216,80,347,
		346,300,92,
		347,80,93,
		324,352,304,
		325,77,304,
		352,350,78,
		353,304,78,
		78,350,348,
		349,351,78,
		305,348,328,
		329,349,305,
		328,348,342,
		329,327,343,
		296,298,318,
		319,299,297,
		316,324,77,
		317,76,77,
		358,356,303,
		359,302,303,
		303,356,354,
		355,357,303,
		75,354,316,
		317,355,75,
		292,294,362,
		363,295,293,
		364,362,368,
		369,363,365,
		366,368,370,
		371,369,367,
		372,370,376,
		377,371,373,
		378,374,376,
		379,315,377,
		316,354,374,
		375,355,317,
		354,356,372,
		373,357,355,
		356,358,366,
		367,359,357,
		358,360,364,
		365,361,359,
		292,364,360,
		293,291,361,
		360,358,302,
		361,74,302,
		284,286,288,
		289,287,285,
		284,290,360,
		361,291,285,
		73,284,74,
		74,285,73,
		296,310,362,
		297,295,363,
		310,312,368,
		369,313,311,
		312,382,370,
		371,383,313,
		376,370,382,
		377,315,383,
		350,386,384,
		351,349,385,
		384,386,320,
		385,319,321,
		298,300,384,
		385,301,299,
		300,344,342,
		343,345,301,
		342,348,384,
		385,349,343,
		300,346,344,
		345,347,301,
		322,380,378,
		323,315,379,
		378,380,324,
		379,317,325,
		386,380,322,
		387,321,323,
		352,380,386,
		353,351,387,
		324,380,352,
		353,381,325,
		388,414,402,
		389,401,403,
		400,402,404,
		405,403,401,
		404,406,396,
		405,399,397,
		406,408,394,
		407,397,395,
		408,410,392,
		409,395,393,
		392,410,412,
		413,411,393,
		410,420,418,
		419,421,411,
		408,422,420,
		421,423,409,
		424,422,408,
		425,407,409,
		426,424,406,
		427,405,407,
		428,426,404,
		429,403,405,
		402,414,416,
		417,415,403,
		320,444,442,
		321,319,443,
		390,412,444,
		391,321,445,
		310,318,442,
		443,319,311,
		382,430,414,
		415,431,383,
		412,418,440,
		441,419,413,
		446,444,440,
		447,439,441,
		434,446,438,
		439,447,435,
		448,446,434,
		449,433,435,
		448,432,450,
		449,431,451,
		430,450,416,
		431,415,417,
		312,448,430,
		431,449,313,
		442,446,448,
		443,313,449,
		442,444,446,
		447,445,443,
		416,450,452,
		453,451,417,
		432,462,452,
		433,451,453,
		432,434,460,
		461,435,433,
		436,458,460,
		437,435,461,
		438,456,458,
		439,437,459,
		438,440,454,
		455,441,439,
		440,418,474,
		475,419,441,
		428,416,476,
		477,417,429,
		426,428,464,
		465,429,427,
		424,426,466,
		467,427,425,
		424,468,470,
		425,423,471,
		422,470,472,
		423,421,473,
		420,472,474,
		421,419,475,
		456,480,478,
		457,459,479,
		480,482,484,
		481,479,485,
		484,482,488,
		489,483,485,
		488,490,492,
		489,487,493,
		464,476,486,
		487,477,465,
		484,486,476,
		485,453,477,
		462,478,484,
		463,453,485,
		458,478,462,
		463,479,459,
		474,480,456,
		475,455,457,
		472,482,480,
		481,483,473,
		488,482,472,
		489,471,473,
		490,488,470,
		491,469,471,
		466,492,490,
		491,493,467,
		464,492,466,
		467,493,465,
		392,390,504,
		505,391,393,
		394,392,502,
		503,393,395,
		394,500,498,
		395,397,499,
		396,498,496,
		397,399,497,
		398,496,494,
		399,401,495,
		400,494,506,
		401,389,507,
		502,504,506,
		503,495,507,
		494,496,500,
		501,497,495,
		496,498,500,
		501,499,497,
		382,388,506,
		383,315,507,
		314,506,504,
		505,507,315,
		320,322,504,
		505,323,321,
		45,47,3,
		46,4,48,
		43,45,5,
		44,6,46,
		5,3,7,
		6,8,4,
		3,1,9,
		4,10,2,
		9,11,15,
		10,16,12,
		7,9,17,
		8,18,10,
		15,21,17,
		20,22,18,
		15,13,21,
		16,22,14,
		21,23,27,
		22,28,24,
		21,27,19,
		30,28,20,
		27,33,29,
		32,34,30,
		25,35,27,
		34,36,28,
		35,37,33,
		40,38,34,
		33,39,31,
		42,40,32,
		39,45,41,
		44,46,42,
		37,47,39,
		46,48,40,
		47,37,49,
		52,38,50,
		37,35,51,
		54,36,52,
		35,25,53,
		56,26,54,
		25,23,55,
		58,24,56,
		57,23,59,
		58,60,24,
		59,13,63,
		60,64,14,
		63,11,65,
		64,66,12,
		65,1,49,
		66,50,2,
		89,174,91,
		176,175,91,
		87,172,89,
		175,173,90,
		87,85,172,
		88,173,86,
		85,83,170,
		86,171,84,
		83,81,168,
		84,169,82,
		164,79,146,
		165,147,80,
		92,94,146,
		149,95,147,
		148,94,150,
		149,151,95,
		96,98,150,
		153,99,151,
		98,100,152,
		155,101,153,
		100,102,154,
		157,103,155,
		156,102,158,
		157,159,103,
		104,106,158,
		161,107,159,
		106,108,160,
		163,109,161,
		108,67,162,
		68,67,163,
		110,128,162,
		161,129,163,
		160,128,158,
		161,159,129,
		126,156,179,
		159,157,180,
		124,154,126,
		157,155,127,
		122,152,124,
		155,153,125,
		120,150,122,
		153,151,123,
		118,148,120,
		151,149,121,
		116,146,118,
		149,147,119,
		114,164,116,
		147,165,117,
		164,114,177,
		165,177,115,
		110,162,112,
		68,163,113,
		183,112,178,
		184,178,113,
		177,181,178,
		184,182,178,
		174,135,176,
		175,176,136,
		172,133,174,
		173,175,134,
		131,133,170,
		173,134,171,
		168,166,185,
		169,186,167,
		185,131,168,
		186,169,132,
		144,190,187,
		189,190,188,
		185,187,69,
		189,188,69,
		130,131,69,
		186,132,69,
		144,142,191,
		145,192,143,
		142,140,193,
		143,194,141,
		139,197,140,
		196,198,141,
		138,71,139,
		198,71,139,
		190,144,70,
		192,145,70,
		70,191,208,
		207,192,208,
		197,71,200,
		198,201,71,
		195,197,202,
		196,203,198,
		195,202,193,
		205,203,194,
		191,193,206,
		192,207,194,
		199,204,200,
		203,205,201,
		204,199,206,
		205,207,199,
		177,139,164,
		177,165,139,
		164,140,211,
		165,212,141,
		142,144,211,
		214,145,212,
		144,187,213,
		167,188,214,
		81,209,166,
		214,210,167,
		209,215,213,
		212,216,214,
		215,79,211,
		216,212,80,
		131,130,222,
		72,130,223,
		220,133,222,
		221,223,134,
		218,135,220,
		219,221,136,
		217,137,218,
		217,219,137,
		217,218,231,
		230,219,231,
		229,218,227,
		230,228,219,
		227,220,225,
		228,226,221,
		222,72,225,
		224,72,226,
		225,224,229,
		226,230,224,
		232,183,234,
		233,235,184,
		254,112,232,
		255,233,113,
		110,112,256,
		255,113,257,
		181,114,234,
		253,115,235,
		252,114,250,
		253,251,115,
		250,116,248,
		251,249,117,
		248,118,246,
		249,247,119,
		246,120,244,
		247,245,121,
		122,124,244,
		243,125,245,
		124,126,242,
		241,127,243,
		240,126,236,
		241,237,127,
		236,179,238,
		237,239,180,
		238,128,256,
		239,257,129,
		238,256,276,
		259,257,277,
		278,236,276,
		279,277,237,
		240,236,274,
		279,237,275,
		242,240,272,
		275,241,273,
		270,244,272,
		271,273,245,
		246,244,268,
		271,245,269,
		266,248,268,
		267,269,249,
		250,248,264,
		267,249,265,
		252,250,262,
		265,251,263,
		280,234,262,
		281,263,235,
		258,256,260,
		259,261,257,
		260,254,282,
		261,283,255,
		282,232,280,
		283,281,233,
		73,67,284,
		73,285,67,
		284,108,286,
		285,287,109,
		106,104,286,
		289,105,287,
		104,102,288,
		291,103,289,
		102,100,290,
		293,101,291,
		292,100,294,
		293,295,101,
		98,96,294,
		297,97,295,
		296,96,298,
		297,299,97,
		298,94,300,
		299,301,95,
		308,309,338,
		329,309,339,
		307,308,336,
		339,308,337,
		306,307,340,
		337,307,341,
		340,89,306,
		341,306,90,
		334,87,340,
		335,341,88,
		330,85,334,
		331,335,86,
		332,83,330,
		333,331,84,
		332,330,338,
		333,339,331,
		330,334,336,
		341,335,337,
		326,332,328,
		339,333,329,
		326,81,332,
		327,333,82,
		209,342,215,
		345,343,216,
		81,326,209,
		343,327,210,
		79,215,346,
		345,216,347,
		79,346,92,
		301,347,93,
		77,324,304,
		353,325,304,
		304,352,78,
		351,353,78,
		305,78,348,
		305,349,78,
		309,305,328,
		309,329,305,
		326,328,342,
		349,329,343,
		310,296,318,
		311,319,297,
		76,316,77,
		325,317,77,
		302,358,303,
		357,359,303,
		75,303,354,
		75,355,303,
		76,75,316,
		76,317,75,
		364,292,362,
		365,363,293,
		366,364,368,
		367,369,365,
		372,366,370,
		373,371,367,
		374,372,376,
		375,377,373,
		314,378,376,
		375,379,377,
		378,316,374,
		379,375,317,
		374,354,372,
		375,373,355,
		372,356,366,
		373,367,357,
		366,358,364,
		367,365,359,
		290,292,360,
		365,293,361,
		74,360,302,
		359,361,302,
		290,284,288,
		291,289,285,
		74,284,360,
		74,361,285,
		294,296,362,
		311,297,363,
		362,310,368,
		363,369,311,
		368,312,370,
		369,371,313,
		314,376,382,
		371,377,383,
		348,350,384,
		387,351,385,
		318,384,320,
		387,385,321,
		318,298,384,
		319,385,299,
		384,300,342,
		385,343,301,
		314,322,378,
		381,323,379,
		316,378,324,
		381,379,325,
		320,386,322,
		381,387,323,
		350,352,386,
		381,353,387,
		400,388,402,
		415,389,403,
		398,400,404,
		399,405,401,
		398,404,396,
		407,405,397,
		396,406,394,
		409,407,395,
		394,408,392,
		411,409,393,
		390,392,412,
		391,413,393,
		412,410,418,
		413,419,411,
		410,408,420,
		411,421,409,
		406,424,408,
		423,425,409,
		404,426,406,
		425,427,407,
		402,428,404,
		427,429,405,
		428,402,416,
		429,417,403,
		318,320,442,
		445,321,443,
		320,390,444,
		413,391,445,
		312,310,442,
		313,443,311,
		388,382,414,
		389,415,383,
		444,412,440,
		445,441,413,
		438,446,440,
		445,447,441,
		436,434,438,
		437,439,435,
		432,448,434,
		447,449,435,
		430,448,450,
		433,449,451,
		414,430,416,
		451,431,417,
		382,312,430,
		383,431,313,
		312,442,448,
		447,443,449,
		476,416,452,
		477,453,417,
		450,432,452,
		463,433,453,
		462,432,460,
		463,461,433,
		434,436,460,
		459,437,461,
		436,438,458,
		457,439,459,
		456,438,454,
		457,455,439,
		454,440,474,
		455,475,441,
		464,428,476,
		465,477,429,
		466,426,464,
		467,465,427,
		468,424,466,
		469,467,425,
		422,424,470,
		469,425,471,
		420,422,472,
		471,423,473,
		418,420,474,
		473,421,475,
		458,456,478,
		481,457,479,
		478,480,484,
		483,481,485,
		486,484,488,
		487,489,485,
		486,488,492,
		491,489,493,
		492,464,486,
		493,487,465,
		452,484,476,
		487,485,477,
		452,462,484,
		479,463,485,
		460,458,462,
		461,463,459,
		454,474,456,
		481,475,457,
		474,472,480,
		475,481,473,
		470,488,472,
		483,489,473,
		468,490,470,
		489,491,471,
		468,466,490,
		469,491,467,
		502,392,504,
		503,505,393,
		500,394,502,
		501,503,395,
		396,394,498,
		501,395,499,
		398,396,496,
		499,397,497,
		400,398,494,
		497,399,495,
		388,400,506,
		495,401,507,
		494,502,506,
		505,503,507,
		502,494,500,
		503,501,495,
		314,382,506,
		389,383,507,
		322,314,504,
		323,505,315,
		390,320,504,
		391,505,321,
	};*/

	GLuint vao;
	GLuint vbo;
	GLuint ebo;

	program = LoadProgram(VERTEX_SHADER, FRAGMENT_SHADER);
	gl::GenVertexArrays(1, &vao);
	gl::GenBuffers(1, &vbo);
	gl::GenBuffers(1, &ebo);

	vertexData.push_back(Vertex{ -0.9f, 0.9f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.1f, 0.9f, 1.0f, 0.0f, 1.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.9f, 0.1f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.1f, 0.1f, 1.0f, 1.0f, 0.0f, 1.0f, 1.0f });

	vertexData.push_back(Vertex{ 0.1f, 0.9f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.9f, 0.9f, 1.0f, 0.0f, 1.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.1f, 0.1f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.9f, 0.1f, 1.0f, 1.0f, 1.0f, 0.0f, 1.0f });

	vertexData.push_back(Vertex{ -0.9f, -0.1f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.1f, -0.1f, 1.0f, 0.0f, 1.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.9f, -0.9f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f });
	vertexData.push_back(Vertex{ -0.1f, -0.9f, 1.0f, 0.0f, 1.0f, 1.0f, 1.0f });

	vertexData.push_back(Vertex{ 0.1f, -0.1f, 1.0f, 1.0f, 0.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.9f, -0.1f, 1.0f, 0.0f, 1.0f, 0.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.1f, -0.9f, 1.0f, 0.0f, 0.0f, 1.0f, 1.0f });
	vertexData.push_back(Vertex{ 0.9f, -0.9f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f });

	fragmentData.push_back(0);
	fragmentData.push_back(1);
	fragmentData.push_back(2);
	fragmentData.push_back(1);
	fragmentData.push_back(3);
	fragmentData.push_back(2);

	fragmentData.push_back(0);
	fragmentData.push_back(1);
	fragmentData.push_back(2);
	fragmentData.push_back(1);
	fragmentData.push_back(3);
	fragmentData.push_back(2);

	fragmentData.push_back(0);
	fragmentData.push_back(1);
	fragmentData.push_back(2);
	fragmentData.push_back(1);
	fragmentData.push_back(3);
	fragmentData.push_back(2);

	fragmentData.push_back(0);
	fragmentData.push_back(1);
	fragmentData.push_back(2);
	fragmentData.push_back(1);
	fragmentData.push_back(3);
	fragmentData.push_back(2);

	gl::BindVertexArray(vao);
	gl::BindBuffer(gl::ARRAY_BUFFER, vbo);
	gl::BufferData(gl::ARRAY_BUFFER, vertexData.size() * sizeof(Vertex) + VBO_OFFSET,
		nullptr, gl::STATIC_DRAW);
	gl::BufferSubData(gl::ARRAY_BUFFER, VBO_OFFSET, 
		vertexData.size() * sizeof(Vertex), vertexData.data());

	gl::EnableVertexAttribArray(0);
	gl::VertexAttribPointer(0, 3, gl::FLOAT, gl::FALSE_, 
		sizeof(Vertex), (GLvoid*)(VBO_OFFSET));
	gl::EnableVertexAttribArray(1);
	gl::VertexAttribPointer(1, 4, gl::FLOAT, gl::FALSE_, 
	 	sizeof(Vertex), (GLvoid*)(VBO_OFFSET + 3 * sizeof(float)));

	gl::BindBuffer(gl::ELEMENT_ARRAY_BUFFER, ebo);
	gl::BufferData(gl::ELEMENT_ARRAY_BUFFER, fragmentData.size() * sizeof(uint16_t), 
		fragmentData.data(), gl::STATIC_DRAW);
	
	gl::ClearColor(0.8f, 0.8f, 0.8f, 1.0f);
	gl::Viewport(0, 0, 512, 512);

	GLsizei counts[4] = { 6, 6, 6, 6 };
	void *indices[4] = { 0, (void*)(6 * sizeof(uint16_t)), 
		(void*)(12 * sizeof(uint16_t)), (void*)(18 * sizeof(uint16_t)) };
	GLint baseVertices[4] = {0, 4, 8, 12};

	

	while (!glfwWindowShouldClose(wnd))
	{
		glfwPollEvents();

		gl::Clear(gl::COLOR_BUFFER_BIT);

		gl::BindVertexArray(vao);
		gl::UseProgram(program);
		gl::MultiDrawElementsBaseVertex(gl::TRIANGLES, counts, gl::UNSIGNED_SHORT, indices, 4, baseVertices);

		// gl::DrawElementsBaseVertex(gl::TRIANGLES, counts[0], gl::UNSIGNED_SHORT, indices[0], baseVertices[0]);
		// gl::DrawElementsBaseVertex(gl::TRIANGLES, counts[1], gl::UNSIGNED_SHORT, indices[1], baseVertices[1]);
		// gl::DrawElementsBaseVertex(gl::TRIANGLES, counts[2], gl::UNSIGNED_SHORT, indices[2], baseVertices[2]);
		// gl::DrawElementsBaseVertex(gl::TRIANGLES, counts[3], gl::UNSIGNED_SHORT, indices[3], baseVertices[3]);

		glfwSwapBuffers(wnd);
	}

	glfwDestroyWindow(wnd);
	glfwTerminate();
	return 0;
}

GLuint LoadProgram(const char *vs, const char *fs)
{
	GLuint vertexShaderID = gl::CreateShader(gl::VERTEX_SHADER);
	GLuint fragmentShaderID = gl::CreateShader(gl::FRAGMENT_SHADER);
	GLint result;
	GLint logLength;
	gl::ShaderSource(vertexShaderID, 1, (const GLchar**)&vs, nullptr);
	gl::CompileShader(vertexShaderID);
	gl::GetShaderiv(vertexShaderID, gl::COMPILE_STATUS, &result);
	gl::GetShaderiv(vertexShaderID, gl::INFO_LOG_LENGTH, &logLength);
	char *vslog = new char[logLength + 1];
	vslog[logLength] = '\0';
	gl::GetShaderInfoLog(vertexShaderID, logLength, nullptr, vslog);
	std::cout << vslog << std::endl;
	delete[] vslog;

	gl::ShaderSource(fragmentShaderID, 1, (const GLchar**)&fs, nullptr);
	gl::CompileShader(fragmentShaderID);
	gl::GetShaderiv(fragmentShaderID, gl::COMPILE_STATUS, &result);
	gl::GetShaderiv(fragmentShaderID, gl::INFO_LOG_LENGTH, &logLength);
	char *fslog = new char[logLength + 1];
	fslog[logLength] = '\0';
	gl::GetShaderInfoLog(fragmentShaderID, logLength, nullptr, fslog);
	std::cout << fslog << std::endl;
	delete[] fslog;

	GLuint program = gl::CreateProgram();
	gl::AttachShader(program, vertexShaderID);
	gl::AttachShader(program, fragmentShaderID);
	gl::LinkProgram(program);
	gl::GetProgramiv(program, gl::LINK_STATUS, &result);
	gl::GetProgramiv(program, gl::INFO_LOG_LENGTH, &logLength);
	char *proglog = new char[logLength + 1];
	proglog[logLength] = '\0';
	gl::GetProgramInfoLog(program, logLength, nullptr, proglog);
	std::cout << proglog << std::endl;
	delete[] proglog;

	gl::DeleteShader(vertexShaderID);
	gl::DeleteShader(fragmentShaderID);

	return program;
}

